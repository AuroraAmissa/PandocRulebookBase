%! suppress = Makeatletter

%
% Define layout
%
\ifdefined\overridegeometry \relax \else
\geometry{verbose,letterpaper,tmargin=1in,bmargin=1in,lmargin=0.75in,rmargin=0.75in,footskip=0.78in}
\fi

\setlength{\parskip}{0.5em}
\setlength{\parindent}{0pt}

%
% Memoir-related configuration
%
\strictpagecheck

%
% Setup colors
%
\definecolor{cw-bg}{HTML}{ffe6e6}
\definecolor{cw-li}{HTML}{ff787a}
\definecolor{watermark}{HTML}{909090}
\definecolor{watermark-dark}{HTML}{000000}
\definecolor{watermark-light}{HTML}{ffffff}
\newcommand\gitwatermarkclr{\color{watermark}}

%
% Setup page layouts
%
\newcommand\footertextsize\small

\makeatletter
\makepagestyle{default_pagestyle}
\makeoddfoot{default_pagestyle}{\footertextsize\sffamily\thepage}{}{\footertextsize\sffamily\leftmark}
\makeevenfoot{default_pagestyle}{\footertextsize\sffamily\leftmark}{}{\footertextsize\sffamily\thepage}
\makepsmarks{default_pagestyle}{%
    \createmark{chapter}{left}{shownumber}{\@chapapp\ }{. \ }%
}
\nouppercaseheads
\pagestyle{default_pagestyle}
\makeatother

\aliaspagestyle{plain}{default_pagestyle}

\renewcommand\afterpartskip\relax % allow quotes on the title pages.

%
% Setup typography
%
\setlength{\parfillskip}{0pt plus 1fil} % Paragraph spacing
\emergencystretch=0.05em
\hyphenpenalty=1000 % Less hyphens please...
\hbadness=1000
\raggedcolumns

\twocoltocetc % two column table of contents
\firmlists % Reduce list spacing.

\renewcommand{\labelitemi}{$\texttt{â€¢}$}
\setlist[itemize]{leftmargin=1.2em}

\newcommand\defaultparagraphsplitting{
    \widowpenalties 1 10000 \raggedbottom % Avoid splitting paragraphs.
}
\newcommand\twocolumnparagraphsplitting{
    \widowpenalties 1 800 \raggedbottom % Split paragraphs, but not 100% aggressively.
}
\defaultparagraphsplitting

\setlength{\footmarkwidth}{0.8em}
\setlength{\footmarksep}{-0.8em}
\setlength{\footparindent}{10em}
\renewcommand{\foottextfont}{\footnotesize\;}
\renewcommand*{\footnoterule}{}
